# chat2issue-prompt

LLM/IDE などのチャットを **1セッション=1 Issue** で軽量にバックアップする最小テンプレート。
**Saved Replies は同梱しません**（必要文は"コピペ用コードブロック"で提供）。

> **最新安定版**: [v0.1.0 リリース](https://github.com/Driedsandwich/chat2issue-prompt/releases/tag/v0.1.0)

## 使い方（5分導線）
1. **Index Issue を作る**（目次）
   - 下の"Index本文の雛形"をコピー→新規 Issue に貼り付け→作成
   - もしくは **ワンクリック作成** → [Indexを作る](../../issues/new?title=%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E7%9B%AE%E6%AC%A1%EF%BC%88%E6%9C%80%E6%96%B0%E9%A0%86%EF%BC%89&body=%3C!--%20INDEX-ANCHOR:%20DO%20NOT%20EDIT%20ABOVE%20--%3E%0A%0A%7C%20%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%20%7C%20%23Issue%20%7C%20%E6%A6%82%E8%A6%81%EF%BC%88120%E5%AD%97%EF%BC%89%20%7C%0A%7C---%7C---%7C---%7C)
   - **押すとどうなる？** → GitHubの **新規Issue画面** が開き、**タイトル**（例：セッション目次（最新順））と **本文**（アンカー＋表ヘッダ）が**自動入力**されます。
     そのまま **Create/Submit** すれば **Index Issueが1本作成** されます。作成後は **Pin 推奨**。

2. **アーカイブ対象セッションの Issue を作る**
   - セッション本文（骨子）→コメントで差分追記（— 続く／— 完）
   - 1コメント **≤30KB、≥10秒、1バッチ≤5**（失敗時は段落分割）

3. **Index へ 1 行 PREPEND**（失敗時はコメント代替→後日集約）

### Index本文の雛形（PREPEND前提）
```md
<!-- INDEX-ANCHOR: DO NOT EDIT ABOVE -->

| タイトル | #Issue | 概要（120字） |
|---|---|---|
```

> 表は **GFM（半角 `|`）** を使用。
> **新規行は「タイトル 1 列」**に統一（既存の「主題｜副題」は互換維持）。

### 目次1行（本文テーブル用）
```md
| <タイトル> | #<番号> | <120字サマリ> |
```

### 本文編集に失敗したとき（コメント代替）
```md
【目次追記（本文更新失敗のためコメント代替）】
| <タイトル> | #<番号> | <120字サマリ> |
（後日、本文テーブルの最上段へ集約）
```

### 完了報告（E2Eチェック付き）
```md
【投稿完了】
- Issue: #<番号>（作成/追記）
- 目次: 本文へ最上段追加 / コメント代替
- 分割: <m>分割（中間「— 続く」/最終「— 完」/単独なし）
- 備考: <再試行/フォールバックの有無（任意）>

チェック:
- [ ] 本文要約（[MASKED]/日付非記載）
- [ ] 分割末尾規約（— 続く／— 完／単独なし）
- [ ] 目次 PREPEND 成功 **または** コメント代替
- [ ] SOP混入なし
```

## SSOT（長尺セッション向け）
- 進行中で長尺になりやすいセッションは **SSOT Issue** を1つ用意し、**本文は骨子のみ**、以降は**コメントで差分追記**します。
- 作り方・細則は `docs/SSOT.md` を参照。

## 方針（番号に依存しない）
- Index は **タイトルで特定**（例：`セッション目次（最新順）`）。
- 新規テンプレrepoなら、最初の Index を #1 にすると分かりやすい。
- 既存repoなら、任意番号でOK（タイトル基準で探す／なければ作成）。

## 注意
- 機微は **`[MASKED]`**、本文に日付は書かない。
- SOP（手順文）は本文/コメントに混在させない（下記 docs を参照）。
- **`source_url:` は各対象セッションに投げるプロンプト側の入力欄**（このテンプレでは必須ではありません）。
- **LICENSE** の `[MASKED]` は公開利用者が**自分の氏名へ置換**してください。

## 参考
- 運用手順: `docs/OPERATIONS.md`
- Index雛形: `docs/examples/index-issue-body.md`
- SSOT運用: `docs/SSOT.md`
- セキュリティ: `SECURITY.md`
- プロンプト: `docs/prompts/templates/`（参考正本）／派生の投稿は `CONTRIBUTING.md`

---

## よくある質問（FAQ）
**Q1. なぜプロンプト本体を同梱しないのですか？**
- LLMや運用目的ごとに最適解が異なるためです。テンプレは**どのプロンプトでも共通**の“定型コピペ”に特化し、
  参考正本は `docs/prompts/templates/` に配置、**派生はPR**で収集します。

**Q2. Fork/Template/Importer で Issue は複製されますか？**
- いいえ。Issue 本文は複製されないことが多いです。**README のワンクリックリンク**から Index を作成してください。

**Q3. Index の番号は固定ですか？**
- いいえ。**番号に依存しません**。**タイトルで特定**してください（例：`セッション目次（最新順）`）。

**Q4. 長文でエラーが出ます**
- **分割**（1コメント≤30KB、≥10秒、1バッチ≤5）し、必要に応じて**コメント代替**（目次フォールバック）をご利用ください。
